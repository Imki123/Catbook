(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{148:function(e,t,a){e.exports=a.p+"static/media/main.39efc8fa.png"},149:function(e,t,a){e.exports=a.p+"static/media/dog_main.d60d4c9c.png"},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(28),o=a.n(n),r=a(0),i=a.n(r),c=a(6),l=a(3),s=a(54),d=a(21),u=a(89),m=a(58),b=a(90),f=a(93),g=a(92),h=a(42),p=a.n(h),y=a(53),v=a(2),x=a(23),k=a(95),E=Math.round(x.a.get("window").width),w=(Math.round(x.a.get("window").height),v.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",marginTop:k.a.statusBarHeight,width:E,maxWidth:600,margin:"auto"},contentContainer:{flexGrow:1,alignItems:"center",justifyContent:"center",width:E,maxWidth:600,margin:"auto"},title:{fontSize:30,fontWeight:"bold"},image:{width:"100%",height:300,resizeMode:"contain"},button:{backgroundColor:"blue",paddingHorizontal:20,paddingVertical:15,borderRadius:5},buttonText:{fontSize:20,color:"#fff"},textContainer:{textAlign:"left",width:E-100,maxWidth:500},contentText:{fontSize:16},changeBookView:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},changeBookText:{margin:0,fontSize:16,color:"blue",padding:10}})),C=v.a.create({inputIOS:{fontSize:20,paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",width:E-100,maxWidth:500,alignSelf:"center",paddingRight:30},inputAndroid:{fontSize:20,width:E-100,maxWidth:500,alignSelf:"center",color:"black"}}),S=a(59),j=S.a.substring(0,2);function T(){var e=Object(r.useState)("cat"),t=o()(e,2),n=t[0],h=t[1],v=Object(r.useState)(null),x=o()(v,2),k=x[0],E=x[1],T=Object(r.useState)(null),z=o()(T,2),_=z[0],O=z[1],W=Object(r.useState)(null),A=o()(W,2),B=A[0],M=A[1],I=Object(r.useState)(null),P=o()(I,2),V=P[0],F=P[1],H=Object(r.useState)(!1),R=o()(H,2),D=R[0],J=R[1];Object(r.useEffect)((function(){var e="https://api.thecatapi.com/v1/breeds";"cat"===n?e="https://api.thecatapi.com/v1/breeds":"dog"===n&&(e="https://api.thedogapi.com/v1/breeds"),p()(e).then((function(e){for(var t=[{label:"\ub79c\ub364",value:"random"}],a=0;a<e.data.length;a++)t.push({label:e.data[a].name,value:e.data[a].id});O(t),J(!0)}))}),[n]),Object(r.useEffect)((function(){var e=m.a.addEventListener("hardwareBackPress",(function(){return u.a.alert("Catbook \uc885\ub8cc","Catbook\uc744 \uc885\ub8cc\ud558\uc2dc\uaca0\uc5b4\uc694?",[{text:"Cancel",onPress:function(){return console.log("canceled")},style:"cancel"},{text:"Yes",onPress:function(){E(null),F(null),M(null),h("cat"),m.a.exitApp(),e.remove()}}]),!0}))})),Object(r.useEffect)((function(){null===B||L()}),[B]);var L=function(){var e=B;if("random"===B){if(D){var t=Math.floor(Math.random()*_.length);e=_[t].value,console.log("searchCatAsync, random breed:",e)}}else console.log("searchCatAsync, breed:",e);var a="https://blog-imki123-backend.herokuapp.com/catbook/getAnimal/cat/"+e;"dog"===n&&(a="https://blog-imki123-backend.herokuapp.com/catbook/getAnimal/dog/"+e),p.a.get(a,{withCredentials:!0}).then((function(e){if(e.data[0]){E(e.data[0].url);var t="";e.data[0].breeds[0].temperament&&(t+=e.data[0].breeds[0].temperament),e.data[0].breeds[0].description&&(t+="__"+e.data[0].breeds[0].description),console.log("My device's locale:",S.a,"--\x3e",j);var a="https://blog-imki123-backend.herokuapp.com/catbook/translate/"+j+"/"+t;p.a.get(a).then((function(t){t=t.data.split("__"),e.data[0].breeds[0].temperament=t[0],e.data[0].breeds[0].description=t[1],F(e.data[0])})).catch((function(t){console.log(t),F(e.data[0])}))}else E(null),F("noInfo")}))};return i.a.createElement(b.a,{style:w.container},i.a.createElement(f.a,{contentContainerStyle:w.contentContainer,centerContent:!0},"cat"===n?i.a.createElement(c.a,{style:w.title},"Catbook ",i.a.createElement(y.a,{name:"cat2",style:{fontSize:20}})):i.a.createElement(c.a,{style:w.title},"Dogbook ",i.a.createElement(y.a,{name:"dog2",style:{fontSize:20}})),null===k?i.a.createElement(i.a.Fragment,null,"cat"===n?i.a.createElement(s.a,{source:a(148),style:w.image}):i.a.createElement(s.a,{source:a(149),style:w.image})):i.a.createElement(s.a,{source:{uri:k},style:w.image}),_&&i.a.createElement(g.a,{placeholder:{},items:_,style:C,onValueChange:function(e,t){return M(e)}}),V&&i.a.createElement(i.a.Fragment,null,"noInfo"!=V?i.a.createElement(l.a,{style:w.textContainer},i.a.createElement(c.a,{style:w.contentText},"- \uc885\ub958: ",V.breeds[0].name),void 0!=V.breeds[0].alt_names&&i.a.createElement(c.a,{style:w.contentText},"- \ubcc4\uba85: ",V.breeds[0].alt_names),void 0!=V.breeds[0].origin&&i.a.createElement(c.a,{style:w.contentText},"- \ucd9c\uc2e0\uc9c0: ",V.breeds[0].origin),void 0!=V.breeds[0].adaptability&&i.a.createElement(c.a,{style:w.contentText},"- \uc801\uc751\ub825 / \uc560\uc815\ub3c4 / \uc5d0\ub108\uc9c0: ",V.breeds[0].adaptability," / ",V.breeds[0].affection_level," / ",V.breeds[0].energy_level),void 0!=V.breeds[0].child_friendly&&i.a.createElement(c.a,{style:w.contentText},"- \uc5b4\ub9b0\uc774\uce5c\ud654\ub825 / \uac15\uc544\uc9c0\uce5c\ud654\ub825: ",V.breeds[0].child_friendly," / ",V.breeds[0].dog_friendly),void 0!=V.breeds[0].temperament&&i.a.createElement(c.a,{style:w.contentText},"- \uc131\uaca9: ",V.breeds[0].temperament),void 0!=V.breeds[0].description&&i.a.createElement(c.a,{style:w.contentText},"- \ud2b9\uc9d5: ",V.breeds[0].description)):i.a.createElement(l.a,{style:w.textContainer},i.a.createElement(c.a,{style:{textAlign:"center"}},"\ucc3e\ub294 \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694 ",i.a.createElement(y.a,{name:"sob",style:{fontSize:20}})))),i.a.createElement(d.a,{onPress:function(){null===B?M("random"):L()},style:w.button},i.a.createElement(c.a,{style:w.buttonText},"cat"===n?"\uace0\uc591\uc774 \ucc3e\uae30":"\uac15\uc544\uc9c0 \ucc3e\uae30")),i.a.createElement(l.a,{style:w.changeBookView},i.a.createElement(c.a,{style:w.changeBookText,onPress:function(){h("cat"===n?"dog":"cat"),M(null),E(null),F(null),J(!1)}},"cat"===n?"\uac15\uc544\uc9c0 \uc88b\uc544\ud574?":"\uace0\uc591\uc774 \ubcf4\ub7ec\uac08\ub798?"))))}},96:function(e,t,a){a(97),e.exports=a(150)},97:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/catbook/expo-service-worker.js",{scope:"/catbook/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[96,1,2]]]);
//# sourceMappingURL=app.cd298e2f.chunk.js.map